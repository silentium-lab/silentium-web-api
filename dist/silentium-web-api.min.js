!function(e,t){"use strict";e.attribute=(e,r,o="")=>{const s=t.sourceOf();return t.subSourceMany(s,[r,e,o]),t.value(t.sourceAll([r,e,o]),t.patron((([e,r,o])=>{t.give(e.getAttribute(r)||o,s)}))),s},e.classAdded=(e,r)=>t.sourceCombined(e,r)(((e,r,o)=>{r.classList.add(o),t.give(o,e)})),e.classRemoved=(e,r)=>t.sourceCombined(e,r)(((e,r,o)=>{r.classList.remove(o),t.give(o,e)})),e.classToggled=(e,r)=>t.sourceCombined(e,r)(((e,r,o)=>{r.classList.toggle(o),t.give(o,e)})),e.element=(e,r,o)=>s=>{t.value(t.sourceAll([o,r]),t.guestCast(s,(([r,o])=>{const n=o.querySelector(r);if(n)t.give(n,s);else{if(!e)throw new Error(`Element with selector=${r} was not found!`);{const n=o.body,l={childList:!0,subtree:!0},a=e.get((e=>{for(const n of e)if("childList"===n.type){const e=o.querySelector(r);if(e){t.give(e,s),a.disconnect();break}}}));a.observe(n,l)}}})))},e.elements=(e,r,o)=>s=>{t.value(t.sourceAll([o,r]),t.guestCast(s,(([r,o])=>{const n=o.querySelectorAll(r);if(n)t.give(Array.from(n),s);else{if(!e)throw new Error(`Element with selector=${r} was not found!`);{const n=o.body,l={childList:!0,subtree:!0},a=e.get((e=>{for(const n of e)if("childList"===n.type){const e=o.querySelectorAll(r);if(e){t.give(Array.from(e),s),a.disconnect();break}}}));a.observe(n,l)}}})))},e.fetched=(e,r,o)=>{const s=t.sourceOf();return t.value(t.sourceAll([r,e]),t.patron((([e,r])=>{r.fetch(e.url,{...e,url:void 0}).then((e=>{let t;return t="application/json"===e.headers.get("Content-Type")?e.json():e.text(),e.ok?t:Promise.reject(t)})).then((e=>{t.give(e,s)})).catch((e=>{t.give(e,o)}))}))),s},e.historyNewPate=(e,r)=>(t.value(t.sourceAll([r,e]),t.patron((([e,t])=>{t.pushState({url:e,date:Date.now()},"",e)}))),r),e.historyPoppedPage=(e,r)=>{const o=t.sourceOf(),s=e=>{const{state:r}=e;r?.url&&t.give(String(r.url),o)};return t.value(e,t.patronOnce((e=>{e.addEventListener("popstate",s)}))),t.value(r,t.patronOnce((()=>{t.destroy([o]),t.value(e,(e=>{e.removeEventListener("popstate",s)}))}))),o},e.html=(e,r)=>(t.value(t.sourceAll([r,e]),t.patron((([e,t])=>{t.innerHTML=e}))),r),e.input=(e,r)=>{const o=()=>{t.value(r,(t=>{e.give(t.value)}))};let s=null;return t.value(r,t.patron((e=>{s&&(e.removeEventListener("keyup",o),e.removeEventListener("change",o)),e.addEventListener("keyup",o),e.addEventListener("change",o),s=e}))),t.value(t.sourceAll([e,r]),t.patron((([e,t])=>{t.value=String(e)}))),e},e.link=(e,r,o=t.source("href"))=>{const s=t.sourceOf();return t.value(t.sourceAll([e,r,o]),(([e,t,r])=>{e.addEventListener("click",(e=>{if(null!==e.target&&"matches"in e.target&&"function"==typeof e.target.matches&&e.target.matches(t)){e.preventDefault();const t=e?.target?.getAttribute(r);t&&s.give(t)}}))})),s},e.log=(e,r,o)=>{const s=t.sourceAll([o,r,e]);return t.value(s,t.patron((([e,t,r])=>{r.log("LOG:",t,e)}))),o},e.styleInstalled=(e,r)=>o=>{t.value(t.sourceAll([e,r]),t.guestCast(o,(([e,r])=>{const s=e.createElement("style");s.textContent=r,e.head.appendChild(s),t.give(r,o)})))},e.text=(e,r)=>(t.value(t.sourceAll([e,r]),t.patron((([e,t])=>{t.textContent=e}))),e),e.visible=(e,r,o="block")=>(t.value(t.sourceAll([e,r,o]),t.patron((([e,t,r])=>{t.style.display=e?r:"none"}))),e)}({},silentium);
