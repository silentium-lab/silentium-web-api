!function(e,t){"use strict";e.attribute=(e,r,n="")=>{const o=t.sourceOf();return t.subSourceMany(o,[r,e,n]),t.value(t.sourceAll([r,e,n]),t.patron((([e,r,n])=>{t.give(e.getAttribute(r)||n,o)}))),o},e.classAdded=(e,r)=>t.sourceCombined(e,r)(((e,r,n)=>{r.classList.add(n),t.give(n,e)})),e.classRemoved=(e,r)=>t.sourceCombined(e,r)(((e,r,n)=>{r.classList.remove(n),t.give(n,e)})),e.classToggled=(e,r)=>t.sourceCombined(e,r)(((e,r,n)=>{r.classList.toggle(n),t.give(n,e)})),e.element=(e,r,n)=>o=>{t.value(t.sourceAll([n,r]),t.guestCast(o,(([r,n])=>{const s=n.querySelector(r);if(s)t.give(s,o);else{if(!e)throw new Error(`Element with selector=${r} was not found!`);{const s=n.body,l={childList:!0,subtree:!0},c=e.get((e=>{for(const s of e)if("childList"===s.type){const e=n.querySelector(r);if(e){t.give(e,o),c.disconnect();break}}}));c.observe(s,l)}}})))},e.elements=(e,r,n)=>o=>{t.value(t.sourceAll([n,r]),t.guestCast(o,(([r,n])=>{const s=n.querySelectorAll(r);if(s)t.give(Array.from(s),o);else{if(!e)throw new Error(`Element with selector=${r} was not found!`);{const s=n.body,l={childList:!0,subtree:!0},c=e.get((e=>{for(const s of e)if("childList"===s.type){const e=n.querySelectorAll(r);if(e){t.give(Array.from(e),o),c.disconnect();break}}}));c.observe(s,l)}}})))},e.event=(e,r)=>{const n=t.sourceOnce(e),o=t.sourceSync(r);return t.sourceDestroyable((e=>{let r=null;const s=r=>{t.give(r,e)};return t.value(n,t.patronOnce((e=>{r=e,e.addEventListener(o.syncValue(),s)}))),()=>{null!==r&&r.removeEventListener(o.syncValue(),s)}}))},e.fetched=(e,r,n)=>{const o=t.sourceOf();return t.value(t.sourceAll([r,e]),t.patron((([e,r])=>{r.fetch(e.url,{...e,url:void 0}).then((e=>{let t;return t="application/json"===e.headers.get("Content-Type")?e.json():e.text(),e.ok?t:Promise.reject(t)})).then((e=>{t.give(e,o)})).catch((e=>{t.give(e,n)}))}))),o},e.historyNewPate=(e,r)=>(t.value(t.sourceAll([r,e]),t.patron((([e,t])=>{t.pushState({url:e,date:Date.now()},"",e)}))),r),e.historyPoppedPage=(e,r)=>{const n=t.sourceOf(),o=e=>{const{state:r}=e;r?.url&&t.give(String(r.url),n)};return t.value(e,t.patronOnce((e=>{e.addEventListener("popstate",o)}))),t.value(r,t.patronOnce((()=>{t.destroy([n]),t.value(e,(e=>{e.removeEventListener("popstate",o)}))}))),n},e.html=(e,r)=>(t.value(t.sourceAll([r,e]),t.patron((([e,t])=>{t.innerHTML=e}))),r),e.input=(e,r)=>{const n=()=>{t.value(r,(t=>{e.give(t.value)}))};let o=null;return t.value(r,t.patron((e=>{o&&(e.removeEventListener("keyup",n),e.removeEventListener("change",n)),e.addEventListener("keyup",n),e.addEventListener("change",n),o=e}))),t.value(t.sourceAll([e,r]),t.patron((([e,t])=>{t.value=String(e)}))),e},e.link=(e,r,n=t.source("href"))=>{const o=t.sourceOf();return t.value(t.sourceAll([e,r,n]),(([e,t,r])=>{e.addEventListener("click",(e=>{if(null!==e.target&&"matches"in e.target&&"function"==typeof e.target.matches&&e.target.matches(t)){e.preventDefault();const t=e?.target?.getAttribute(r);t&&o.give(t)}}))})),o},e.log=(e,r,n)=>{const o=t.sourceAll([n,r,e]);return t.value(o,t.patron((([e,t,r])=>{r.log("LOG:",t,e)}))),n},e.styleInstalled=(e,r)=>n=>{t.value(t.sourceAll([e,r]),t.guestCast(n,(([e,r])=>{const o=e.createElement("style");o.textContent=r,e.head.appendChild(o),t.give(r,n)})))},e.text=(e,r)=>(t.value(t.sourceAll([e,r]),t.patron((([e,t])=>{t.textContent=e}))),e),e.visible=(e,r,n="block")=>(t.value(t.sourceAll([e,r,n]),t.patron((([e,t,r])=>{t.style.display=e?r:"none"}))),e)}({},silentium);
