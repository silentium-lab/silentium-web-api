import{sourceOf as e,value as t,patronOnce as n,destroy as r,give as o,sourceAll as s,patron as i,guestCast as c,subSourceMany as a,source as l,sourceCombined as u}from"silentium";const d=(s,i)=>{const c=e(),a=e=>{const{state:t}=e;t?.url&&o(String(t.url),c)};return t(s,n((e=>{e.addEventListener("popstate",a)}))),t(i,n((()=>{r([c]),t(s,(e=>{e.removeEventListener("popstate",a)}))}))),c},g=(e,n)=>(t(s([n,e]),i((([e,t])=>{t.pushState({url:e,date:Date.now()},"",e)}))),n),h=(n,r,c)=>{const a=e();return t(s([r,n]),i((([e,t])=>{t.fetch(e.url,{...e,url:void 0}).then((e=>{let t;return t="application/json"===e.headers.get("Content-Type")?e.json():e.text(),e.ok?t:Promise.reject(t)})).then((e=>{o(e,a)})).catch((e=>{o(e,c)}))}))),a},p=(e,n,r)=>i=>{t(s([r,n]),c(i,(([t,n])=>{const r=n.querySelector(t);if(r)o(r,i);else{if(!e)throw new Error(`Element with selector=${t} was not found!`);{const r=n.body,s={childList:!0,subtree:!0},c=e.get((e=>{for(const r of e)if("childList"===r.type){const e=n.querySelector(t);if(e){o(e,i),c.disconnect();break}}}));c.observe(r,s)}}})))},v=(n,r,c="")=>{const l=e();return a(l,[n,r,c]),t(s([n,r,c]),i((([e,t,n])=>{o(e.getAttribute(t)||n,l)}))),l},f=(e,n)=>r=>{t(s([e,n]),c(r,(([e,t])=>{const n=e.createElement("style");n.textContent=t,e.head.appendChild(n),o(t,r)})))},m=(e,n)=>{const r=()=>{t(n,(t=>{e.give(t.value)}))};let o=null;return t(n,i((e=>{o&&(e.removeEventListener("keyup",r),e.removeEventListener("change",r)),e.addEventListener("keyup",r),e.addEventListener("change",r),o=e}))),t(s([e,n]),i((([e,t])=>{t.value=String(e)}))),e},L=(n,r,o=l("href"))=>{const i=e();return t(s([n,r,o]),(([e,t,n])=>{e.addEventListener("click",(e=>{if(null!==e.target&&"matches"in e.target&&"function"==typeof e.target.matches&&e.target.matches(t)){e.preventDefault();const t=e?.target?.getAttribute(n);t&&i.give(t)}}))})),i},E=(e,n)=>(t(s([e,n]),i((([e,t])=>{t.textContent=e}))),e),y=(e,n)=>(t(s([n,e]),i((([e,t])=>{t.innerHTML=e}))),n),b=(e,t)=>u(e,t)(((e,t,n)=>{t.classList.toggle(n),o(n,e)})),k=(e,n,r)=>{const o=s([r,n,e]);return t(o,i((([e,t,n])=>{n.log("LOG:",t,e)}))),r};export{v as attribute,b as classToggled,p as element,h as fetched,g as historyNewPate,d as historyPoppedPage,y as html,m as input,L as link,k as log,f as styleInstalled,E as text};
//# sourceMappingURL=silentium-web-api.min.mjs.map
